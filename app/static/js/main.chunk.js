(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{107:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),o=t(14),i=t.n(o),r=(t(57),t(2)),d=t(11),c=t.n(d),s=t(17),u=t(6),v=t(33),j=(t(84),t(85),t(86),t(20)),m="http://127.0.0.1:8000/api/",h=t(46),b=t.n(h),p=t(109),O=t(1),g=function(e){var n=e.show,t=e.handleClose,a=e.handleDelete;return Object(O.jsxs)(p.a,{show:n,onHide:t,children:[Object(O.jsx)(p.a.Header,{closeButton:!0,children:Object(O.jsx)(p.a.Title,{children:"Confirmation"})}),Object(O.jsx)(p.a.Body,{children:"Are you sure to delete consultant?"}),Object(O.jsxs)(p.a.Footer,{children:[Object(O.jsx)(j.a,{variant:"secondary",onClick:t,children:"Close"}),Object(O.jsx)(j.a,{variant:"danger",onClick:a,children:"Delete"})]})]})},f=t(110),x=t(51),C=t(111),w=function(e){var n=e.show,t=e.handleClose,l=e.handleAdd,o=e.columns,i=Object(a.useState)(!1),r=Object(u.a)(i,2),d=r[0],c=r[1];return Object(O.jsxs)(p.a,{show:n,onHide:t,children:[Object(O.jsx)(p.a.Header,{closeButton:!0,children:Object(O.jsx)(p.a.Title,{children:"Add Consultant"})}),Object(O.jsx)(p.a.Body,{children:Object(O.jsxs)(f.a,{noValidate:!0,validated:d,onSubmit:function(e){var n=e.currentTarget;e.preventDefault(),e.stopPropagation(),n.checkValidity()&&l(),c(!0)},children:[o&&o.length>0&&o.map((function(e){return"id"!==(null===e||void 0===e?void 0:e.name)&&Object(O.jsx)("div",{children:Object(O.jsxs)(f.a.Group,{as:x.a,md:"12",controlId:"validationCustomUsername",children:[Object(O.jsx)(f.a.Label,{children:null===e||void 0===e?void 0:e.name}),Object(O.jsxs)(C.a,{hasValidation:!0,children:[Object(O.jsx)(f.a.Control,{id:null===e||void 0===e?void 0:e.name,type:null===e||void 0===e?void 0:e.type,placeholder:"Enter ".concat(null===e||void 0===e?void 0:e.name),required:!0}),Object(O.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please enter ".concat(null===e||void 0===e?void 0:e.name)})]})]})})})),Object(O.jsx)(j.a,{className:"m-2",type:"submit",children:"Add"}),Object(O.jsx)(j.a,{className:"m-2",variant:"secondary",onClick:t,children:"Cancel"})]})})]})},y=function(e){var n=e.show,t=e.handleClose,l=e.handleAdd,o=Object(a.useState)(!1),i=Object(u.a)(o,2),r=i[0],d=i[1];return Object(O.jsxs)(p.a,{show:n,onHide:t,children:[Object(O.jsx)(p.a.Header,{closeButton:!0,children:Object(O.jsx)(p.a.Title,{children:"Add Column"})}),Object(O.jsx)(p.a.Body,{children:Object(O.jsxs)(f.a,{noValidate:!0,validated:r,onSubmit:function(e){var n=e.currentTarget;e.preventDefault(),e.stopPropagation(),n.checkValidity()&&l(),d(!0)},children:[Object(O.jsx)("div",{children:Object(O.jsxs)(f.a.Group,{as:x.a,md:"12",controlId:"validationCustomUsername",children:[Object(O.jsx)(f.a.Label,{children:"Column Name"}),Object(O.jsxs)(C.a,{hasValidation:!0,children:[Object(O.jsx)(f.a.Control,{id:"ColumnName",type:"string",placeholder:"Enter Column Name",required:!0}),Object(O.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please enter Column Name"})]}),Object(O.jsx)(f.a.Label,{children:"Column DataType"}),Object(O.jsxs)(C.a,{hasValidation:!0,children:[Object(O.jsxs)(f.a.Select,{"aria-label":"Default select example",id:"type",required:!0,children:[Object(O.jsx)("option",{value:"string",children:"String"}),Object(O.jsx)("option",{value:"date",children:"Date"}),Object(O.jsx)("option",{value:"number",children:"Number"})]}),Object(O.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please select Column Data Type"})]})]})}),Object(O.jsx)(j.a,{className:"m-2",type:"submit",children:"Add Column"}),Object(O.jsx)(j.a,{className:"m-2",variant:"secondary",onClick:t,children:"Cancel"})]})})]})},D=function(e){var n=e.show,t=e.handleClose,l=e.handleRemove,o=e.columns,i=Object(a.useState)(!1),r=Object(u.a)(i,2),d=r[0],c=r[1];return Object(O.jsxs)(p.a,{show:n,onHide:t,children:[Object(O.jsx)(p.a.Header,{closeButton:!0,children:Object(O.jsx)(p.a.Title,{children:"Add Column"})}),Object(O.jsx)(p.a.Body,{children:Object(O.jsxs)(f.a,{noValidate:!0,validated:d,onSubmit:function(e){var n=e.currentTarget;e.preventDefault(),e.stopPropagation(),n.checkValidity()&&l(),c(!0)},children:[Object(O.jsx)("div",{children:Object(O.jsxs)(f.a.Group,{as:x.a,md:"12",controlId:"validationCustomUsername",children:[Object(O.jsx)(f.a.Label,{children:"Select Column Name"}),Object(O.jsxs)(C.a,{hasValidation:!0,children:[Object(O.jsx)(f.a.Select,{"aria-label":"Default select example",id:"removedColumnName",required:!0,children:null===o||void 0===o?void 0:o.map((function(e){return Object(O.jsx)("option",{value:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name})}))}),Object(O.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please select Column Name"})]})]})}),Object(O.jsx)(j.a,{className:"m-2",type:"submit",variant:"danger",children:"Remove Column"}),Object(O.jsx)(j.a,{className:"m-2",variant:"secondary",onClick:t,children:"Cancel"})]})})]})};var S=function(){var e,n,t,l,o=Object(a.useState)([]),i=Object(u.a)(o,2),d=i[0],h=i[1],p=Object(a.useState)({userGroup:"superUser",originalData:null,originalId:-1}),f=Object(u.a)(p,2),x=f[0],C=f[1],S={"X-CSRFToken":function(e){for(var n=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var l=t[a];" "===l.charAt(0);)l=l.substring(1,l.length);if(0===l.indexOf(n))return l.substring(n.length,l.length)}return null}("csrftoken")},N=Object(a.useState)(null),k=Object(u.a)(N,2),I=k[0],E=k[1],A=Object(a.useState)(null),B=Object(u.a)(A,2),T=(B[0],B[1]),V=Object(a.useState)(!1),G=Object(u.a)(V,2),H=G[0],L=G[1],R=Object(a.useState)(!1),F=Object(u.a)(R,2),J=F[0],P=F[1],U=Object(a.useState)(!1),q=Object(u.a)(U,2),M=q[0],W=q[1],X=Object(a.useState)(!1),_=Object(u.a)(X,2),z=_[0],K=_[1],Q=Object(a.useState)(!1),Y=Object(u.a)(Q,2),Z=Y[0],$=Y[1],ee=function(e,n){return e.findIndex((function(e){return e.id===n}))},ne=function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.patch("".concat(m,"consultant/").concat(null===x||void 0===x?void 0:x.originalId,"/"),n,{headers:S});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),te=function(){var e=Object(s.a)(c.a.mark((function e(n){var t,a,l,o,i,r,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),console.log("onCellValueChanged: "+n.colDef.field+" = "+n.newValue),!n.data.id){e.next=10;break}return-1!==(r=ee(null===x||void 0===x||null===(t=x.originalData)||void 0===t?void 0:t.rows,n.data.id))&&(null===x||void 0===x||null===(a=x.originalData)||void 0===a||a.rows.splice(r,1)),null===x||void 0===x||null===(l=x.originalData)||void 0===l||l.rows.splice(r,0,n.data),d={id:null===x||void 0===x?void 0:x.originalId,data:JSON.stringify({columns:null===x||void 0===x||null===(o=x.originalData)||void 0===o?void 0:o.columns,rows:null===x||void 0===x||null===(i=x.originalData)||void 0===i?void 0:i.rows})},e.next=9,ne(d);case 9:ae();case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(c.a.mark((function e(){var n,t,a,l,o,i,d,s,u,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"consultant/"));case 2:return o=e.sent,e.next=5,o.json();case 5:i=e.sent,d=i,console.log(i),s=window.sessionStorage.getItem("userGroup"),i=null===(n=JSON.parse(i&&(null===(t=i[0])||void 0===t?void 0:t.data)))||void 0===n?void 0:n.rows,console.log("userGroup",s,"superUser"!==s),"superUser"!==s&&(u=s&&s.split("_"),v=u&&u.length>0&&u[0],console.log("vendorName",s,v),i=i&&i.filter((function(e){var n;return(null===(n=e["EDA Vendor"])||void 0===n?void 0:n.toLowerCase())===(null===v||void 0===v?void 0:v.toLowerCase())}))),h(i),C(Object(r.a)(Object(r.a)({},x),{originalData:JSON.parse(d&&(null===(a=d[0])||void 0===a?void 0:a.data)),originalId:JSON.parse(d&&(null===(l=d[0])||void 0===l?void 0:l.id))}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){C({userGroup:window.sessionStorage.getItem("userGroup")}),ae(),console.log(window.sessionStorage.getItem("userGroup"))}),[]);var le=function(){W(!0)},oe=function(){var e=Object(s.a)(c.a.mark((function e(){var n,t,a,l,o,i,r,d,s,u,v,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},null===x||void 0===x||null===(n=x.originalData)||void 0===n||n.columns.forEach((function(e){"id"!==(null===e||void 0===e?void 0:e.name)&&(r[null===e||void 0===e?void 0:e.name]=document.getElementById(null===e||void 0===e?void 0:e.name)&&document.getElementById(null===e||void 0===e?void 0:e.name).value)})),(null===x||void 0===x||null===(t=x.originalData)||void 0===t?void 0:t.rows)&&(null===x||void 0===x||null===(a=x.originalData)||void 0===a?void 0:a.rows.length)>0?r.id=(null===x||void 0===x||null===(d=x.originalData)||void 0===d||null===(s=d.rows[(null===x||void 0===x||null===(u=x.originalData)||void 0===u?void 0:u.rows.length)-1])||void 0===s?void 0:s.id)+1:r.id=1,null===x||void 0===x||null===(l=x.originalData)||void 0===l||l.rows.push(r),v={id:null===x||void 0===x?void 0:x.originalId,data:JSON.stringify({columns:null===x||void 0===x||null===(o=x.originalData)||void 0===o?void 0:o.columns,rows:null===x||void 0===x||null===(i=x.originalData)||void 0===i?void 0:i.rows})},e.next=7,ne(v);case 7:j=e.sent,console.log("update",j),200===j.status&&(W(!1),ae());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(s.a)(c.a.mark((function e(){var n,t,a,l,o,i,r,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i={name:null,type:null,validations:[]}).name=document.getElementById("ColumnName")&&(null===(n=document.getElementById("ColumnName"))||void 0===n?void 0:n.value),i.type=document.getElementById("type")&&(null===(t=document.getElementById("type"))||void 0===t?void 0:t.value),null===x||void 0===x||null===(a=x.originalData)||void 0===a||a.columns.push(i),r={id:null===x||void 0===x?void 0:x.originalId,data:JSON.stringify({columns:null===x||void 0===x||null===(l=x.originalData)||void 0===l?void 0:l.columns,rows:null===x||void 0===x||null===(o=x.originalData)||void 0===o?void 0:o.rows})},e.next=7,ne(r);case 7:d=e.sent,console.log("update",d),200===d.status&&(K(!1),ae());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(c.a.mark((function e(){var n,t,a,l,o,i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=document.getElementById("removedColumnName")&&(null===(n=document.getElementById("removedColumnName"))||void 0===n?void 0:n.value),x.originalData.columns=null===x||void 0===x||null===(t=x.originalData)||void 0===t||null===(a=t.columns)||void 0===a?void 0:a.filter((function(e){return(null===e||void 0===e?void 0:e.name)!==i})),r={id:null===x||void 0===x?void 0:x.originalId,data:JSON.stringify({columns:null===x||void 0===x||null===(l=x.originalData)||void 0===l?void 0:l.columns,rows:null===x||void 0===x||null===(o=x.originalData)||void 0===o?void 0:o.rows})},e.next=5,ne(r);case 5:200===e.sent.status&&($(!1),ae());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){$(!0)},ce=function(){var e=Object(s.a)(c.a.mark((function e(){var n,t,a,l,o,i,r,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I.getSelectedRows(),-1!==(r=ee(null===x||void 0===x||null===(n=x.originalData)||void 0===n?void 0:n.rows,null===(t=i[0])||void 0===t?void 0:t.id))&&(null===x||void 0===x||null===(a=x.originalData)||void 0===a||a.rows.splice(r,1)),d={id:null===x||void 0===x?void 0:x.originalId,data:JSON.stringify({columns:null===x||void 0===x||null===(l=x.originalData)||void 0===l?void 0:l.columns,rows:null===x||void 0===x||null===(o=x.originalData)||void 0===o?void 0:o.rows})},e.next=6,ne(d);case 6:ae(),L(!1),P(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log("rowData",d,"keys",Object.keys(d.length>0&&d[0]),"pageState",null===x||void 0===x?void 0:x.originalData),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(j.a,{variant:"primary",className:"m-2",onClick:le,children:"Add Consultant"}),J&&Object(O.jsx)(j.a,{variant:"danger",className:"m-2",onClick:de,children:"Remove Consultant"}),Object(O.jsx)(j.a,{variant:"primary",className:"m-2",onClick:function(){K(!0)},children:"Add New Column"}),Object(O.jsx)(j.a,{variant:"danger",className:"m-2",onClick:de,children:"Remove Column"}),Object(O.jsx)(j.a,{variant:"primary",className:"m-2",onClick:function(){I.exportDataAsCsv()},children:"Export to CSV"})]}),Object(O.jsx)(g,{show:H,handleClose:function(){return L(!1)},handleDelete:ce,handleAdd:le}),Object(O.jsx)(w,{show:M,handleClose:function(){return W(!1)},handleAdd:oe,columns:null===x||void 0===x||null===(e=x.originalData)||void 0===e?void 0:e.columns}),Object(O.jsx)(y,{show:z,handleClose:function(){return K(!1)},handleAdd:ie}),Object(O.jsx)(D,{show:Z,handleClose:function(){return $(!1)},columns:null===x||void 0===x||null===(n=x.originalData)||void 0===n?void 0:n.columns,handleRemove:re}),Object(O.jsx)("div",{className:"ag-theme-alpine",style:{width:"100%",height:"1000px"},children:Object(O.jsx)(v.AgGridReact,{components:{actionCellRenderer:function(e){var n=document.createElement("span"),t=document.createElement("button");t.innerHTML="Edit",t.className="btn btn-primary",t.onclick=function(){alert("Button is clicked")};var a=document.createElement("button"),l=e.api.getEditingCells().some((function(n){return n.rowIndex===e.node.rowIndex}));if(l){var o=document.createElement("button");o.innerHTML="Cancel",o.className="btn btn-secondary",o.onclick=function(){alert("Button is clicked")},t.innerHTML="Update"}return n.appendChild(t),l&&n.appendChild(a),n}},defaultColDef:{flex:1,minWidth:200,filter:!0,editable:!0},rowData:d,onGridReady:function(e){E(e.api),T(e.columnApi)},onCellValueChanged:te,rowSelection:"single",onSelectionChanged:function(){var e=I.getSelectedRows();e&&e.length>0&&P(!0)},suppressExcelExport:!0,children:null===x||void 0===x||null===(t=x.originalData)||void 0===t||null===(l=t.columns)||void 0===l?void 0:l.map((function(e){return Object(O.jsx)(v.AgGridColumn,{field:null===e||void 0===e?void 0:e.name,pinned:"id"===(null===e||void 0===e?void 0:e.name)||"Consultant Name"===(null===e||void 0===e?void 0:e.name)?"left":null})}))})})]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,112)).then((function(n){var t=n.getCLS,a=n.getFID,l=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),a(e),l(e),o(e),i(e)}))};t(106);i.a.render(Object(O.jsx)(l.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),N()},57:function(e,n,t){},86:function(e,n,t){}},[[107,1,2]]]);
//# sourceMappingURL=main.chunk.js.map