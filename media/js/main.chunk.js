(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(9),r=n.n(o),s=(n(51),n(14)),i=n.n(s),l=n(23),u=n(3),d=n(29),p=(n(78),n(79),n(80),n(30)),h="http://127.0.0.1:8000/api/",j=n(24),f=n.n(j),b=n(104),g=n(1),m=function(e){var t=e.show,n=e.handleClose,c=e.handleDelete;return Object(g.jsxs)(b.a,{show:t,onHide:n,children:[Object(g.jsx)(b.a.Header,{closeButton:!0,children:Object(g.jsx)(b.a.Title,{children:"Confirmation"})}),Object(g.jsx)(b.a.Body,{children:"Are you sure to delete consultant?"}),Object(g.jsxs)(b.a.Footer,{children:[Object(g.jsx)(p.a,{variant:"secondary",onClick:n,children:"Close"}),Object(g.jsx)(p.a,{variant:"danger",onClick:c,children:"Delete"})]})]})};var O=function(){var e,t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)({userGroup:"superUser"}),s=Object(u.a)(r,2),j=s[0],b=s[1],O={"X-CSRFToken":function(e){for(var t=e+"=",n=document.cookie.split(";"),c=0;c<n.length;c++){for(var a=n[c];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}("csrftoken")},x=Object(c.useState)(null),v=Object(u.a)(x,2),C=v[0],w=v[1],k=Object(c.useState)(null),S=Object(u.a)(k,2),y=(S[0],S[1]),E=Object(c.useState)(!1),D=Object(u.a)(E,2),G=D[0],A=D[1],R=Object(c.useState)(!1),T=Object(u.a)(R,2),B=T[0],F=T[1];Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"consultant/"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),o(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),b({userGroup:window.sessionStorage.getItem("userGroup")}),console.log(window.sessionStorage.getItem("userGroup"))}),[]);var I=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C.getSelectedRows(),e.next=3,f.a.delete("".concat(h,"consultant/").concat(null===(t=n[0])||void 0===t?void 0:t.id),{headers:O});case 3:return c=e.sent,e.next=6,fetch("".concat(h,"consultant/"));case 6:return c=e.sent,e.next=9,c.json();case 9:a=e.sent,o(a),A(!1),F(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"App",children:[console.log(j),"superUser"===j.userGroup?Object(g.jsxs)("div",{children:[B&&Object(g.jsx)(p.a,{variant:"danger",className:"m-2",onClick:function(){A(!0)},children:"Remove Consultant"}),Object(g.jsx)(p.a,{variant:"primary",className:"m-2",onClick:function(){C.exportDataAsCsv()},children:"Export to CSV"})]}):null,Object(g.jsx)(m,{show:G,handleClose:function(){return A(!1)},handleDelete:I}),Object(g.jsx)("div",{className:"ag-theme-alpine",style:{width:"100%",height:"1000px"},children:Object(g.jsx)(d.AgGridReact,{components:{actionCellRenderer:function(e){var t=document.createElement("span"),n=document.createElement("button");n.innerHTML="Edit",n.className="btn btn-primary",n.onclick=function(){alert("Button is clicked")};var c=document.createElement("button"),a=e.api.getEditingCells().some((function(t){return t.rowIndex===e.node.rowIndex}));if(a){var o=document.createElement("button");o.innerHTML="Cancel",o.className="btn btn-secondary",o.onclick=function(){alert("Button is clicked")},n.innerHTML="Update"}return t.appendChild(n),a&&t.appendChild(c),t}},defaultColDef:{flex:1,minWidth:200,filter:!0,editable:!0},rowData:a,onGridReady:function(e){w(e.api),y(e.columnApi)},onCellValueChanged:function(e){console.log(e),console.log("onCellValueChanged: "+e.colDef.field+" = "+e.newValue),e.data.id&&f.a.put("".concat(h,"consultant/").concat(e.data.id,"/"),e.data,{headers:O})},rowSelection:"single",onSelectionChanged:function(){var e=C.getSelectedRows();e&&e.length>0&&F(!0)},suppressExcelExport:!0,children:a&&a.length>0&&(null===(e=Object.keys(a[0]))||void 0===e?void 0:e.map((function(e){return Object(g.jsx)(d.AgGridColumn,{field:e,pinned:"id"===e||"consultant_name"===e?"left":null})})))})})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};n(100);r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById("root")),x()},51:function(e,t,n){},80:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.chunk.js.map